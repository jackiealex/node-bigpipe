define(function(){function e(e){e.on("click",".item .btn-delete",function(e){var t=$(this).data("id"),n=$(this).parents(".item"),r=n.find(".channel").text(),i=n.find(".device").text();r=$.trim(r),i=$.trim(i);var s=n.text(),o=$(this).hasClass("ios-update-item"),u=dialog({title:"删除",align:"bottom left",width:300,content:'<div style="text-align: center; font-size: 20px">你确认删除当前项 <p>{text}</p></div>'.replace("{text}",s),ok:function(){return o?utils.api("/_bridge/ios/update/version",{method:"delete"}).done(function(e,t){e["node_code"]==2e4&&(utils.bubble("已经删除"),_SmartPipe_.reload())}):utils.api("/_bridge/client/check/version?channel={channel}&device={device}".replace("{channel}",r).replace("{device}",i),{method:"delete"}).done(function(e,t){e["node_code"]==2e4&&(utils.bubble("已经删除"),_SmartPipe_.reload())}),!0},cancel:function(){return!0},okValue:"提交",cancelValue:"取消"});u.showModal()})}function t(e){e.on("keyup",".input input",function(e){var t=$(this).val(),n=$(this).parent().data("type"),r=$(this).next(),i="/label/search?type="+n+"&name="+t;$(this).next().data("url",i),e.keyCode==13&&r.trigger("click")})}function n(t){e(t)}return{init:function(e){var t=$(".mod-version-list");n(t)}}})