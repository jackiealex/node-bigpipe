define(function(){function e(e,t){t.stopPropagation(),t.preventDefault(),utils.api("/_bridge/admin/vip/delete",{method:"post",data:{id:e}}).done(function(e,n){if(e["node_code"]==2e4){$(t.target).parents(".item").remove(),utils.bubble("已经删除申请");return}utils.bubble(["错误［",e.node_code,"］","\n"].join(""))})}function t(e,t){t.stopPropagation(),t.preventDefault(),utils.api("/_bridge/admin/vip/review",{method:"post",data:{id:e}}).done(function(e,n){if(e["node_code"]==2e4){$(t.target).html(1),utils.bubble("已经通过");return}utils.bubble(["错误［",e.node_code,"］","\n"].join(""))})}function n(n){n.on("click",".delete",function(t){var n=$(this).parents(".item").data("id");e(n,t)}),n.on("dblclick",".process",function(e){var n=$(this).parents(".item").data("id");dialog({title:"修改状态",content:"状态修改前请确认信息是否匹配",ok:function(){return t(n,e),!0},cancel:function(e){return!0},okValue:"确定",cancelValue:"取消"}).show(e.target)})}return{init:function(){var e=$(".mod-vip-list");n(e)}}})