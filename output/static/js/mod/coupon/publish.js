define(function(){function e(e){e.on("click",".btn-submit",function(t){var n=null;e.find("form").ajaxSubmit({beforeSubmit:function(){var t=e.find("input[name=money]").val(),r=e.find("input[name=limit]").val(),i=e.find("input[name=time]").val(),s=e.find("input[name=code]").val(),o=e.find("input[name=text]").val(),u=e.find("select[name=mode]").val();return t==""?(utils.bubble("请填写红包金额"),!1):r==""?(utils.bubble("请填写红包限制金额"),!1):i==""?(utils.bubble("请填写红包时限"),!1):s==0?(utils.bubble("请填写红包代码，例如：register/birthday"),!1):o==0?(utils.bubble("请填写红包描述"),!1):u==""?(utils.bubble("请选择发放类型"),!1):(n=utils.loading(),!0)},uploadProgress:function(){},success:function(e,t){e["node_code"]!=2e4?utils.bubble(e.msg):utils.bubble("红包配置成功"),n.remove()},fail:function(e,t){utils.bubble("上传失败了")}})})}function t(t){e(t)}return{init:function(e){var n=$(".mod-poster-publish");t(n)}}})